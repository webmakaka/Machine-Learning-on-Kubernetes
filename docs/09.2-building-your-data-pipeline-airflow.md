# [OK!] Chapter 9. Building Your Data Pipeline

<br/>

### Building and executing a data pipeline using Airflow

<br/>

https://jupyterhub.192.168.49.2.nip.io/

<br/>

Runtime Images (from left) -> Add

<br/>

```
Name: Airflow Python Runner

Description: A container with Python runtime

Source: quay.io/ml-on-k8s/airflow-python-runner:0.0.11

Image Pull Policy: IfNotPresent

SAVE & CLOSE
```

<br/>

```
Name: AirFlow PySpark Runner

Description: A container with notebook and pyspark to enable execution of PySpark code

Source: quay.io/ml-on-k8s/elyra-spark:0.0.4

Image Pull Policy: IfNotPresent

SAVE & CLOSE
```

<br/>

```
RUN -> Chapter09\flights.pipeline
```

<br/>

```
Pipeline Name: flights
Runntime Platform: Apache Airflow runtime
Runtime Configuration: MyAirflow
```

<br/>

```
// mluser / mluser
https://airflow.192.168.49.2.nip.io
```

k9s -> replicationcontroller

Оставляю 1 worker с

```
resources:
limits:
cpu: "4"
 memory: 8Gi
requests:
cpu: "2"
memory: 4Gi
```

quay.io/ml-on-k8s/spark:3.0.0
